# Contract Tests Documentation

Generated: 2026-01-31 23:58:28

## Summary

| Status | Count |
|--------|-------|
| ‚úÖ Passed | 23 |
| ‚ùå Failed | 0 |
| ‚è≠Ô∏è Skipped | 1 |
| üí• Error | 0 |
| **Total** | **24** |


## Argument Tests

| Status | Test Name | Description | Code Ref |
|--------|-----------|-------------|----------|
| ‚úÖ | Order Constructor Arguments | Order constructor receives correct argument types (literal, result) | `src/Service/OrderService.php:31-38` |
| ‚úÖ | OrderRepository Constructor in save() | Order constructor in save() receives property access results from $order | `src/Repository/OrderRepository.php:29-36` |
| ‚úÖ | checkAvailability() Receives Property Access Results | InventoryChecker receives $input property values as arguments | `src/Service/OrderService.php:29` |
| ‚úÖ | dispatch() Receives Constructor Result | MessageBus dispatch() receives OrderCreatedMessage constructor result | `src/Service/OrderService.php:53` |
| ‚úÖ | findById() Receives $orderId Parameter | Argument 0 of findById() points to $orderId parameter | `src/Service/NotificationService.php:20` |
| ‚úÖ | save() Receives $order Local | Argument 0 of save() points to $order local variable | `src/Service/OrderService.php:40` |
| ‚úÖ | send() Receives customerEmail Access Result | First argument of send() points to customerEmail property access result | `src/Service/OrderService.php:42-43` |

## Chain Tests

| Status | Test Name | Description | Code Ref |
|--------|-----------|-------------|----------|
| ‚è≠Ô∏è | Chain Tests Placeholder | Chain tests pending scip-php receiver_value_id fixes | `-` |

## Integrity Tests

| Status | Test Name | Description | Code Ref |
|--------|-----------|-------------|----------|
| ‚úÖ | Argument IDs Exist | Verifies every argument value_id references an existing value entry. Orphaned references indicate missing value entries for argument sources. | `-` |
| ‚úÖ | Every Call Has Result Value | Verifies each call has a corresponding result value with the same ID. Missing result values break chain integrity as subsequent calls cannot reference the result. | `-` |
| ‚úÖ | Full Integrity Report | Generates a complete integrity report counting all issue types: duplicate symbols, orphaned references, missing result values, type mismatches. Outputs summary to stderr for debugging. | `-` |
| ‚úÖ | Receiver IDs Exist | Verifies every call receiver_value_id references an existing value entry. Orphaned references indicate missing value entries in the index. | `-` |
| ‚úÖ | Result Types Match | Verifies result value type field matches the return_type of their source call. Type mismatches indicate incorrect type inference in the indexer. | `-` |
| ‚úÖ | Source Call IDs Exist | Verifies every value source_call_id references an existing call entry. Result values must point to the call that produced them. | `-` |
| ‚úÖ | Source Value IDs Exist | Verifies every value source_value_id references an existing value entry. Used for assignment tracking where a value derives from another value. | `-` |

## Reference Tests

| Status | Test Name | Description | Code Ref |
|--------|-----------|-------------|----------|
| ‚úÖ | NotificationService::notifyOrderCreated() $orderId | Verifies $orderId parameter in notifyOrderCreated() has exactly one value entry and is correctly referenced when passed to findById() call. | `src/Service/NotificationService.php:18` |
| ‚úÖ | OrderService Constructor Parameters | Verifies promoted constructor parameters ($orderRepository, $emailSender, $inventoryChecker, $messageBus) have no duplicate symbol entries. Readonly class promoted properties are handled specially by the indexer. | `src/Service/OrderService.php:19-24` |
| ‚úÖ | OrderService::getOrder() $id | Verifies $id parameter in getOrder() has exactly one value entry. Per the spec, each parameter should have a single value entry at declaration, with all usages referencing that entry. | `src/Service/OrderService.php:65` |

## Smoke Tests

| Status | Test Name | Description | Code Ref |
|--------|-----------|-------------|----------|
| ‚úÖ | Call Query Filters | Verifies CallQuery::kind() filter correctly returns only calls matching the specified kind (method) | `-` |
| ‚úÖ | Calls Data Loaded | Verifies CallsData wrapper loaded calls.json successfully with non-empty values and calls arrays | `-` |
| ‚úÖ | Index Generated | Verifies calls.json was generated by bootstrap.php during test initialization | `-` |
| ‚úÖ | OrderRepository::save() $order Parameter | Critical acceptance test: Verifies $order parameter in OrderRepository::save() exists in index with kind=parameter, symbol containing ($order), and type containing Order | `src/Repository/OrderRepository.php:26` |
| ‚úÖ | Value Query Filters | Verifies ValueQuery::kind() filter correctly returns only values matching the specified kind (parameter) | `-` |
| ‚úÖ | Version Present | Verifies calls.json contains a valid semver-like version field (e.g., 3.2) | `-` |
